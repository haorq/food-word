package com.meiyuan.catering.finance.feign;

import com.meiyuan.catering.core.dto.pay.ChargeOrder;
import com.meiyuan.catering.core.util.Result;
import com.meiyuan.catering.finance.service.CateringUserChargeOrderService;
import org.springframework.stereotype.Service;

import javax.annotation.Resource;
import java.math.BigDecimal;
import java.util.List;

/**
 * @author zengzhangni
 * @date 2020/5/19 9:38
 * @since v1.1.0
 */
@Service
public class UserChargeOrderClient {
    @Resource
    private CateringUserChargeOrderService service;

    /**
     * 描述:通过充值订单号查询充值订单
     *
     * @param rechargeNo
     * @return com.meiyuan.catering.core.util.Result<com.meiyuan.catering.finance.entity.CateringUserChargeOrderEntity>
     * @author zengzhangni
     * @date 2020/5/19 10:18
     * @since v1.1.0
     */
    public Result<ChargeOrder> getByRechargeNo(String rechargeNo) {
        return Result.succ(service.getByRechargeNo(rechargeNo));
    }


    /**
     * 描述:充值订单过期自动取消
     *
     * @param
     * @return com.meiyuan.catering.core.util.Result<java.util.List                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               <                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               com.meiyuan.catering.finance.entity.CateringUserChargeOrderEntity>>
     * @author zengzhangni
     * @date 2020/5/19 10:18
     * @since v1.1.0
     */
    public Result<List<ChargeOrder>> autoOrderCancle() {
        return Result.succ(service.autoOrderCancle());
    }

    /**
     * 描述:通过id查询充值订单
     *
     * @param id
     * @return com.meiyuan.catering.core.dto.pay.ChargeOrder
     * @author zengzhangni
     * @date 2020/5/19 16:31
     * @since v1.1.0
     */
    public Result<ChargeOrder> getOrderById(Long id) {
        return Result.succ(service.getOrderById(id));
    }

    /**
     * 描述:充值成功更新充值订单
     *
     * @param id
     * @param receivedAmount
     * @param cashCoupon
     * @param transactionId
     * @return java.lang.Boolean
     * @author zengzhangni
     * @date 2020/5/20 9:22
     * @since v1.1.0
     */
    public Result<Boolean> updateChargeOrder(Long id, BigDecimal receivedAmount, BigDecimal cashCoupon, String transactionId) {
        return Result.succ(service.updateChargeOrder(id, receivedAmount, cashCoupon, transactionId));
    }

    /**
     * 描述:添加充值订单
     *
     * @param userId
     * @param userType
     * @param ruleId
     * @param rechargeOrderNo
     * @param rechargeAccount
     * @param givenAccount
     * @param ip
     * @return java.lang.Boolean
     * @author zengzhangni
     * @date 2020/5/20 9:27
     * @since v1.1.0
     */
    public Result<Boolean> saveChargeOrder(Long userId, Integer userType, Long ruleId, String rechargeOrderNo, BigDecimal rechargeAccount, BigDecimal givenAccount, String ip) {
        return Result.succ(service.saveChargeOrder(userId, userType, ruleId, rechargeOrderNo, rechargeAccount, givenAccount, ip));
    }
}
